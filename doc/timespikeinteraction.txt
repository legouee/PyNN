=================================
Continuous time spike interaction
=================================


In traditional simulation schemes spikes are constrained to an equidistant time grid. However, some simulators have the capability to represent spikes in continuous time or to switch between the two modes.

At setup the user can choose the continuous time scheme::

   setup(spike_precision='off_grid')

or the conventional grid-constrained scheme::

   setup(spike_precision='on_grid')

where 'on_grid' is the default.

PyNN requires the grid-constrained implementation of a neuron model. If 'off_grid' is chosen but a continuous time implementation of a specific neuron model is not available, the grid-constrained version is used. If 'off_grid' is chosen but the backend does not support the continuous time scheme at all, an error is generated.

The following continuous time implementations are available:

==========================      ============= 
                		NEST
==========================	=============  
IF_curr_alpha			in prep.
IF_curr_exp			x
IF_cond_alpha	
IF_cond_exp	
HH_cond_exp	
EIF_cond_alpha_isfa_ista	in prep.

==========================	=============

Here is an example showing how to specify the option in a PyNN script and an illustration of the different outcomes:

.. literalinclude:: timespikeinteractionexample.py
.. image:: ../images/ongridoffgrid.png

The gray curve shows the membrane potential excursion in response to an input spike arriving at the neuron at t=1.5ms (left panel, the right panel shows an enlargement at low voltages). The amplitude of the post-current has an unrealistically high value such that the threshold voltage for spike generation is crossed. The membrane potential is recorded in intervals of 1ms. Therefore the first non-zero value is measured at t=2ms. The threshold is crossed somewhere in the interval (3ms,4ms], resulting in a voltage of 0 at t=4ms. The membrane potential is clamped to 0 for 2ms, the refractory period. Therefore, the neuron recovers from refractoriness somewhere in the interval (5ms,6ms] and the next non-zero voltage is observed at t=6ms. The black curve shows the results of the same model now integrated with a grid constrained simulation scheme with a computation step size of 1ms. The input spike is mapped to the next grid position and therefore arrives at t=2ms. The first non-zero voltage is observed at t=3ms. The output spike is emitted at t=4ms and this is the time at which the membrane potential is reset. Consequently, the model neuron returns from refractoriness at exactly t=6ms. The next non-zero membrane potential value is observed at t=7ms.

The following publication describes how the continuous time mode is implemented in NEST and compares the performance of different approaches:

Hanuschkin A, Kunkel S, Helias M, Morrison A and Diesmann M (2010) A general and efficient method for incorporating precise spike times in globally time-driven simulations. Front. Neuroinform. 4:113.  `doi: 10.3389/fninf.2010.00113 <http://journal.frontiersin.org/article/10.3389/fninf.2010.00113/full>`_.


